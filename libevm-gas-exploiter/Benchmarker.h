#pragma once

#include "ExecutionEnv.h"

namespace dev
{
namespace eth
{

struct BenchmarkConfig
{
    BenchmarkConfig(uint64_t _execCount, bool _debug = false,
                    bool _warmup = true, bool _dropCaches = false,
                    bool _flush = false, bool _recordAll = false)
        : execCount(_execCount), debug(_debug), warmup(_warmup),
          dropCaches(_dropCaches), flush(_flush), recordAll(_recordAll) {}

    uint64_t execCount;
    bool debug = false;
    bool warmup = true;
    bool dropCaches = false;
    bool flush = false;
    bool recordAll = false;
};

ExecutionStats executeCode(bytes code, ExecutionEnv execEnv, bool debug = false);
ExecutionAggregatedStats benchmarkCode(ExecutionEnv execEnv, bytes code, BenchmarkConfig config);


}
}
